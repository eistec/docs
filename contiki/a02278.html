<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Contiki 3.x: Micro</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Micro<div class="ingroups"><a class="el" href="a02310.html">STM32W108</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Many of the supplied example applications use these microcontroller functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabb42f7171eba6959a54c6e6d9aeca64e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabb42f7171eba6959a54c6e6d9aeca64e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gabb42f7171eba6959a54c6e6d9aeca64e">MICRO_DISABLE_WATCH_DOG_KEY</a>&#160;&#160;&#160;0xA5</td></tr>
<tr class="memdesc:gabb42f7171eba6959a54c6e6d9aeca64e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value that must be passed as the single parameter to <a class="el" href="a02278.html#ga21b247f7a0bd7a5805907850e570f042" title="Disables the watchdog timer. ">halInternalDisableWatchDog()</a> in order to sucessfully disable the watchdog timer. <br/></td></tr>
<tr class="separator:gabb42f7171eba6959a54c6e6d9aeca64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27b541c1f900a25d980c902ee5a30721"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga27b541c1f900a25d980c902ee5a30721">PORTA_PIN</a>(y)&#160;&#160;&#160;(<a class="el" href="a02393.html#ga7c8a7f98a98d8cb125dd57a66720ab30">PORTA</a>|y)</td></tr>
<tr class="memdesc:ga27b541c1f900a25d980c902ee5a30721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some registers and variables require indentifying GPIO by a single number instead of the port and pin.  <a href="#ga27b541c1f900a25d980c902ee5a30721">More...</a><br/></td></tr>
<tr class="separator:ga27b541c1f900a25d980c902ee5a30721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d53d811ca29690c1c5c8b8adbc534ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga3d53d811ca29690c1c5c8b8adbc534ce">PORTB_PIN</a>(y)&#160;&#160;&#160;(<a class="el" href="a02393.html#ga09a0c85cd3da09d9cdf63a5ac4c39f77">PORTB</a>|y)</td></tr>
<tr class="memdesc:ga3d53d811ca29690c1c5c8b8adbc534ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some registers and variables require indentifying GPIO by a single number instead of the port and pin.  <a href="#ga3d53d811ca29690c1c5c8b8adbc534ce">More...</a><br/></td></tr>
<tr class="separator:ga3d53d811ca29690c1c5c8b8adbc534ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c6bfc2e884b3b9f46732f3990d4d6af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga9c6bfc2e884b3b9f46732f3990d4d6af">PORTC_PIN</a>(y)&#160;&#160;&#160;(<a class="el" href="a02393.html#ga68fea88642279a70246e026e7221b0a5">PORTC</a>|y)</td></tr>
<tr class="memdesc:ga9c6bfc2e884b3b9f46732f3990d4d6af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some registers and variables require indentifying GPIO by a single number instead of the port and pin.  <a href="#ga9c6bfc2e884b3b9f46732f3990d4d6af">More...</a><br/></td></tr>
<tr class="separator:ga9c6bfc2e884b3b9f46732f3990d4d6af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga311b8a8cc601e36dcb7ae3d3914419e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga311b8a8cc601e36dcb7ae3d3914419e9">PORTx_PIN</a>(x, y)&#160;&#160;&#160;(x|y)</td></tr>
<tr class="memdesc:ga311b8a8cc601e36dcb7ae3d3914419e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some registers and variables require indentifying GPIO by a single number instead of the port and pin.  <a href="#ga311b8a8cc601e36dcb7ae3d3914419e9">More...</a><br/></td></tr>
<tr class="separator:ga311b8a8cc601e36dcb7ae3d3914419e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafd89c1650df524d95aef39b8bc38170d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafd89c1650df524d95aef39b8bc38170d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gafd89c1650df524d95aef39b8bc38170d">halInit</a> (void)</td></tr>
<tr class="memdesc:gafd89c1650df524d95aef39b8bc38170d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes microcontroller-specific peripherals. <br/></td></tr>
<tr class="separator:gafd89c1650df524d95aef39b8bc38170d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3550a689dc90ddd9d7d973bb154dd909"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3550a689dc90ddd9d7d973bb154dd909"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga3550a689dc90ddd9d7d973bb154dd909">halReboot</a> (void)</td></tr>
<tr class="memdesc:ga3550a689dc90ddd9d7d973bb154dd909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the microcontroller and therefore everything else. <br/></td></tr>
<tr class="separator:ga3550a689dc90ddd9d7d973bb154dd909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga467bf8ac5d5964ca282f332f4e394654"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga467bf8ac5d5964ca282f332f4e394654"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga467bf8ac5d5964ca282f332f4e394654">halPowerUp</a> (void)</td></tr>
<tr class="memdesc:ga467bf8ac5d5964ca282f332f4e394654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Powers up microcontroller peripherals and board peripherals. <br/></td></tr>
<tr class="separator:ga467bf8ac5d5964ca282f332f4e394654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae13140ae48ea28772b67717f0d28f5e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae13140ae48ea28772b67717f0d28f5e9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gae13140ae48ea28772b67717f0d28f5e9">halPowerDown</a> (void)</td></tr>
<tr class="memdesc:gae13140ae48ea28772b67717f0d28f5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Powers down microcontroller peripherals and board peripherals. <br/></td></tr>
<tr class="separator:gae13140ae48ea28772b67717f0d28f5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ea499662dd11955f9f3cc340e2455b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7ea499662dd11955f9f3cc340e2455b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga7ea499662dd11955f9f3cc340e2455b8">halInternalEnableWatchDog</a> (void)</td></tr>
<tr class="memdesc:ga7ea499662dd11955f9f3cc340e2455b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the watchdog timer. <br/></td></tr>
<tr class="separator:ga7ea499662dd11955f9f3cc340e2455b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21b247f7a0bd7a5805907850e570f042"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga21b247f7a0bd7a5805907850e570f042">halInternalDisableWatchDog</a> (uint8_t magicKey)</td></tr>
<tr class="memdesc:ga21b247f7a0bd7a5805907850e570f042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the watchdog timer.  <a href="#ga21b247f7a0bd7a5805907850e570f042">More...</a><br/></td></tr>
<tr class="separator:ga21b247f7a0bd7a5805907850e570f042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40ef36e606f612ca87090e43d2705ac2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a02283.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga40ef36e606f612ca87090e43d2705ac2">halInternalWatchDogEnabled</a> (void)</td></tr>
<tr class="memdesc:ga40ef36e606f612ca87090e43d2705ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the watchdog has been enabled or disabled.  <a href="#ga40ef36e606f612ca87090e43d2705ac2">More...</a><br/></td></tr>
<tr class="separator:ga40ef36e606f612ca87090e43d2705ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9786c70c0c1f05fae86b1a399d8dbd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gab9786c70c0c1f05fae86b1a399d8dbd6">halCommonDelayMicroseconds</a> (uint16_t us)</td></tr>
<tr class="memdesc:gab9786c70c0c1f05fae86b1a399d8dbd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks the current thread of execution for the specified amount of time, in microseconds.  <a href="#gab9786c70c0c1f05fae86b1a399d8dbd6">More...</a><br/></td></tr>
<tr class="separator:gab9786c70c0c1f05fae86b1a399d8dbd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa52eb2c15be6d9ff655f8dd72e18dae3"><td class="memItemLeft" align="right" valign="top">StStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gaa52eb2c15be6d9ff655f8dd72e18dae3">halBootloaderStart</a> (uint8_t mode, uint8_t channel, uint16_t panId)</td></tr>
<tr class="memdesc:gaa52eb2c15be6d9ff655f8dd72e18dae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the appplication to enter in bootloader mode.  <a href="#gaa52eb2c15be6d9ff655f8dd72e18dae3">More...</a><br/></td></tr>
<tr class="separator:gaa52eb2c15be6d9ff655f8dd72e18dae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a39a028776dc2065aa3f02c2a1fd1d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga8a39a028776dc2065aa3f02c2a1fd1d6">halInternalResetWatchDog</a> (void)</td></tr>
<tr class="memdesc:ga8a39a028776dc2065aa3f02c2a1fd1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the watchdog timer.  <a href="#ga8a39a028776dc2065aa3f02c2a1fd1d6">More...</a><br/></td></tr>
<tr class="separator:ga8a39a028776dc2065aa3f02c2a1fd1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22dcb4f34e04bf24ef05274c017e06d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga22dcb4f34e04bf24ef05274c017e06d7">halGpioConfig</a> (uint32_t io, uint32_t config)</td></tr>
<tr class="memdesc:ga22dcb4f34e04bf24ef05274c017e06d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure an IO pin's operating mode.  <a href="#ga22dcb4f34e04bf24ef05274c017e06d7">More...</a><br/></td></tr>
<tr class="separator:ga22dcb4f34e04bf24ef05274c017e06d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbb5042ee272899e07c6fef429230369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gabbb5042ee272899e07c6fef429230369">halGpioSet</a> (uint32_t io, <a class="el" href="a02283.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a> value)</td></tr>
<tr class="memdesc:gabbb5042ee272899e07c6fef429230369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Clear single GPIO bit.  <a href="#gabbb5042ee272899e07c6fef429230369">More...</a><br/></td></tr>
<tr class="separator:gabbb5042ee272899e07c6fef429230369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4173faf01f05eb52ca815bec94193818"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4173faf01f05eb52ca815bec94193818"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga4173faf01f05eb52ca815bec94193818">halInternalCalibrateSlowRc</a> (void)</td></tr>
<tr class="memdesc:ga4173faf01f05eb52ca815bec94193818"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates the internal SlowRC to generate a 1024 Hz (1kHz) clock. <br/></td></tr>
<tr class="separator:ga4173faf01f05eb52ca815bec94193818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9b2f11a69544770078feaa71b6a3d0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad9b2f11a69544770078feaa71b6a3d0d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gad9b2f11a69544770078feaa71b6a3d0d">halInternalCalibrateFastRc</a> (void)</td></tr>
<tr class="memdesc:gad9b2f11a69544770078feaa71b6a3d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates the internal FastRC to generate a 12Mhz clock. <br/></td></tr>
<tr class="separator:gad9b2f11a69544770078feaa71b6a3d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27b7b259d7a8129736034ac6bfb00142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga27b7b259d7a8129736034ac6bfb00142">halInternalSetRegTrim</a> (<a class="el" href="a02283.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a> boostMode)</td></tr>
<tr class="memdesc:ga27b7b259d7a8129736034ac6bfb00142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the trim values for the 1.8V and 1.2V regulators based upon manufacturing configuration.  <a href="#ga27b7b259d7a8129736034ac6bfb00142">More...</a><br/></td></tr>
<tr class="separator:ga27b7b259d7a8129736034ac6bfb00142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93d0995cce8de7a4ad3f9cf6aeff0615"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga93d0995cce8de7a4ad3f9cf6aeff0615">stMeasureVddSlow</a> (void)</td></tr>
<tr class="memdesc:ga93d0995cce8de7a4ad3f9cf6aeff0615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a slow ADC measurement of VDD_PADS in millivolts.  <a href="#ga93d0995cce8de7a4ad3f9cf6aeff0615">More...</a><br/></td></tr>
<tr class="separator:ga93d0995cce8de7a4ad3f9cf6aeff0615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacccecc48a42aa964410d5ca13288b73f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gacccecc48a42aa964410d5ca13288b73f">stMeasureVddFast</a> (void)</td></tr>
<tr class="memdesc:gacccecc48a42aa964410d5ca13288b73f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a fast ADC measurement of VDD_PADS in millivolts.  <a href="#gacccecc48a42aa964410d5ca13288b73f">More...</a><br/></td></tr>
<tr class="separator:gacccecc48a42aa964410d5ca13288b73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d943bddd6a0281e18a40b002940e622"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga8d943bddd6a0281e18a40b002940e622">halCommonCalibratePads</a> (void)</td></tr>
<tr class="memdesc:ga8d943bddd6a0281e18a40b002940e622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates the GPIO pads.  <a href="#ga8d943bddd6a0281e18a40b002940e622">More...</a><br/></td></tr>
<tr class="separator:ga8d943bddd6a0281e18a40b002940e622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35ddce6a5df4800dd1980735c59c6b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga35ddce6a5df4800dd1980735c59c6b2c">halCommonCheckXtalBiasTrim</a> (void)</td></tr>
<tr class="memdesc:ga35ddce6a5df4800dd1980735c59c6b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is intended to be called periodically, from the stack and application, to check the XTAL bias trim is within appropriate levels and adjust if not.  <a href="#ga35ddce6a5df4800dd1980735c59c6b2c">More...</a><br/></td></tr>
<tr class="separator:ga35ddce6a5df4800dd1980735c59c6b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae47dcfa6256c2dd58e2a451e6b1411c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gae47dcfa6256c2dd58e2a451e6b1411c6">halInternalSwitchToXtal</a> (void)</td></tr>
<tr class="memdesc:gae47dcfa6256c2dd58e2a451e6b1411c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches to running off of the 24MHz crystal, including changing the CPU to be 24MHz (FCLK sourced from SYSCLK).  <a href="#gae47dcfa6256c2dd58e2a451e6b1411c6">More...</a><br/></td></tr>
<tr class="separator:gae47dcfa6256c2dd58e2a451e6b1411c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebd4d106a0a42931460824b959ac32ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gaebd4d106a0a42931460824b959ac32ee">halInternalSearchForBiasTrim</a> (void)</td></tr>
<tr class="memdesc:gaebd4d106a0a42931460824b959ac32ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for optimal 24MHz crystal bias trim, assuming no valid prior value.  <a href="#gaebd4d106a0a42931460824b959ac32ee">More...</a><br/></td></tr>
<tr class="separator:gaebd4d106a0a42931460824b959ac32ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd0565c99bb9ee46edc1f85d3eabaac1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gacd0565c99bb9ee46edc1f85d3eabaac1">halCommonDelayMilliseconds</a> (uint16_t ms)</td></tr>
<tr class="memdesc:gacd0565c99bb9ee46edc1f85d3eabaac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks the current thread of execution for the specified amount of time, in milliseconds.  <a href="#gacd0565c99bb9ee46edc1f85d3eabaac1">More...</a><br/></td></tr>
<tr class="separator:gacd0565c99bb9ee46edc1f85d3eabaac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5ccc8a76451403d069cd63691b98c24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gad5ccc8a76451403d069cd63691b98c24">halSleepWithOptions</a> (SleepModes sleepMode, uint32_t gpioWakeBitMask)</td></tr>
<tr class="memdesc:gad5ccc8a76451403d069cd63691b98c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the microcontroller to sleep in a specified mode, allows the GPIO wake sources to be determined at runtime.  <a href="#gad5ccc8a76451403d069cd63691b98c24">More...</a><br/></td></tr>
<tr class="separator:gad5ccc8a76451403d069cd63691b98c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga747ef10d5ebd95bf6f91685ccd499150"><td class="memItemLeft" align="right" valign="top">StStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga747ef10d5ebd95bf6f91685ccd499150">halSleepForQsWithOptions</a> (uint32_t *duration, uint32_t gpioWakeBitMask)</td></tr>
<tr class="memdesc:ga747ef10d5ebd95bf6f91685ccd499150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the system timer to enter ::SLEEPMODE_WAKETIMER for approximately the specified amount of time (provided in quarter seconds), the GPIO wake sources can be provided at runtime.  <a href="#ga747ef10d5ebd95bf6f91685ccd499150">More...</a><br/></td></tr>
<tr class="separator:ga747ef10d5ebd95bf6f91685ccd499150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd32b37fdc20677e9f65bfca3281b7ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafd32b37fdc20677e9f65bfca3281b7ba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gafd32b37fdc20677e9f65bfca3281b7ba">halInternalIdleSleep</a> (void)</td></tr>
<tr class="memdesc:gafd32b37fdc20677e9f65bfca3281b7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides access to assembly code which triggers idle sleep. <br/></td></tr>
<tr class="separator:gafd32b37fdc20677e9f65bfca3281b7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07522d6e2cb2d9da06d648289519c4ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#ga07522d6e2cb2d9da06d648289519c4ea">halInternalSleep</a> (SleepModes sleepMode)</td></tr>
<tr class="memdesc:ga07522d6e2cb2d9da06d648289519c4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the microcontroller to sleep in a specified mode.  <a href="#ga07522d6e2cb2d9da06d648289519c4ea">More...</a><br/></td></tr>
<tr class="separator:ga07522d6e2cb2d9da06d648289519c4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf50489736443d2e60df9e19ba2b403ce"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gaf50489736443d2e60df9e19ba2b403ce">halGetWakeInfo</a> (void)</td></tr>
<tr class="memdesc:gaf50489736443d2e60df9e19ba2b403ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the events that caused the last wake from sleep.  <a href="#gaf50489736443d2e60df9e19ba2b403ce">More...</a><br/></td></tr>
<tr class="separator:gaf50489736443d2e60df9e19ba2b403ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabd83fa0cf1d06380682adbba4f859ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gaabd83fa0cf1d06380682adbba4f859ac">halCommonSeedRandom</a> (uint32_t seed)</td></tr>
<tr class="memdesc:gaabd83fa0cf1d06380682adbba4f859ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seeds the <a class="el" href="a02278.html#gadb94c6571babd7d76305a00a3f09a1f3" title="Runs a standard LFSR to generate pseudorandom numbers. ">halCommonGetRandom()</a> pseudorandom number generator.  <a href="#gaabd83fa0cf1d06380682adbba4f859ac">More...</a><br/></td></tr>
<tr class="separator:gaabd83fa0cf1d06380682adbba4f859ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb94c6571babd7d76305a00a3f09a1f3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02278.html#gadb94c6571babd7d76305a00a3f09a1f3">halCommonGetRandom</a> (void)</td></tr>
<tr class="memdesc:gadb94c6571babd7d76305a00a3f09a1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a standard LFSR to generate pseudorandom numbers.  <a href="#gadb94c6571babd7d76305a00a3f09a1f3">More...</a><br/></td></tr>
<tr class="separator:gadb94c6571babd7d76305a00a3f09a1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Many of the supplied example applications use these microcontroller functions. </p>
<p>See also hal/micro/cortexm3/micro.h for source code.</p>
<p>See <a class="el" href="a01729.html" title="Minimal Hal functions common across all microcontroller-specific files. ">hal/micro/micro-common.h</a> for source code. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga27b541c1f900a25d980c902ee5a30721"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORTA_PIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="a02393.html#ga7c8a7f98a98d8cb125dd57a66720ab30">PORTA</a>|y)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some registers and variables require indentifying GPIO by a single number instead of the port and pin. </p>
<p>This macro converts Port A pins into a single number. </p>

<p>Definition at line <a class="el" href="a01730_source.html#l00036">36</a> of file <a class="el" href="a01730_source.html">micro-common.h</a>.</p>

<p>Referenced by <a class="el" href="a01696_source.html#l00350">halBoardPowerUp()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3d53d811ca29690c1c5c8b8adbc534ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORTB_PIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="a02393.html#ga09a0c85cd3da09d9cdf63a5ac4c39f77">PORTB</a>|y)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some registers and variables require indentifying GPIO by a single number instead of the port and pin. </p>
<p>This macro converts Port B pins into a single number. </p>

<p>Definition at line <a class="el" href="a01730_source.html#l00042">42</a> of file <a class="el" href="a01730_source.html">micro-common.h</a>.</p>

<p>Referenced by <a class="el" href="a01696_source.html#l00284">halBoardPowerDown()</a>, <a class="el" href="a01696_source.html#l00350">halBoardPowerUp()</a>, <a class="el" href="a01569_source.html#l00127">halInternalSleep()</a>, and <a class="el" href="a01046_source.html#l00039">uartInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c6bfc2e884b3b9f46732f3990d4d6af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORTC_PIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="a02393.html#ga68fea88642279a70246e026e7221b0a5">PORTC</a>|y)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some registers and variables require indentifying GPIO by a single number instead of the port and pin. </p>
<p>This macro converts Port C pins into a single number. </p>

<p>Definition at line <a class="el" href="a01730_source.html#l00048">48</a> of file <a class="el" href="a01730_source.html">micro-common.h</a>.</p>

<p>Referenced by <a class="el" href="a01696_source.html#l00350">halBoardPowerUp()</a>.</p>

</div>
</div>
<a class="anchor" id="ga311b8a8cc601e36dcb7ae3d3914419e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORTx_PIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(x|y)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some registers and variables require indentifying GPIO by a single number instead of the port and pin. </p>
<p>This macro converts Port C pins into a single number. </p>

<p>Definition at line <a class="el" href="a01730_source.html#l00055">55</a> of file <a class="el" href="a01730_source.html">micro-common.h</a>.</p>

<p>Referenced by <a class="el" href="a01696_source.html#l00284">halBoardPowerDown()</a>, <a class="el" href="a01696_source.html#l00350">halBoardPowerUp()</a>, <a class="el" href="a01581_source.html#l00013">halInitButton()</a>, and <a class="el" href="a01352_source.html#l00056">leds_arch_init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa52eb2c15be6d9ff655f8dd72e18dae3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StStatus halBootloaderStart </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>panId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the appplication to enter in bootloader mode. </p>
<p>This function will check whwther the user flash contains the bootloader and if yes it will jump into it according to the user parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The bootloader mode, 0 UART mode, 1 RF mode. All other values are reserved </td></tr>
    <tr><td class="paramname">channel</td><td>The channel where the booloader will operate. 0 means default channel (only vaild for RF mode). </td></tr>
    <tr><td class="paramname">panID</td><td>The panID where the booloader will operate. 0xFFFF means default panID (only vaild for RF mode). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or it will never return. </dd></dl>

<p>Definition at line <a class="el" href="a01713_source.html#l00130">130</a> of file <a class="el" href="a01713_source.html">micro.c</a>.</p>

<p>References <a class="el" href="a01713_source.html#l00043">halReboot()</a>, <a class="el" href="a01702_source.html#l00019">IAP_BOOTLOADER_APP_SWITCH_SIGNATURE</a>, <a class="el" href="a01702_source.html#l00024">IAP_BOOTLOADER_DEFAULT_CHANNEL</a>, <a class="el" href="a01702_source.html#l00034">IAP_BOOTLOADER_MODE_OTA</a>, and <a class="el" href="a01702_source.html#l00029">IAP_BOOTLOADER_MODE_UART</a>.</p>

</div>
</div>
<a class="anchor" id="ga8d943bddd6a0281e18a40b002940e622"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halCommonCalibratePads </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrates the GPIO pads. </p>
<p>This function is called from within the stack and HAL at appropriate times. </p>

<p>Definition at line <a class="el" href="a01711_source.html#l00192">192</a> of file <a class="el" href="a01711_source.html">micro-common-internal.c</a>.</p>

<p>References <a class="el" href="a01711_source.html#l00140">stMeasureVddFast()</a>.</p>

<p>Referenced by <a class="el" href="a01713_source.html#l00065">halPowerUp()</a>.</p>

</div>
</div>
<a class="anchor" id="ga35ddce6a5df4800dd1980735c59c6b2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halCommonCheckXtalBiasTrim </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is intended to be called periodically, from the stack and application, to check the XTAL bias trim is within appropriate levels and adjust if not. </p>
<p>This function is <em>not</em> designed to be used before <a class="el" href="a02278.html#gae47dcfa6256c2dd58e2a451e6b1411c6" title="Switches to running off of the 24MHz crystal, including changing the CPU to be 24MHz (FCLK sourced fr...">halInternalSwitchToXtal()</a> has been called. </p>

<p>Definition at line <a class="el" href="a01699_source.html#l00305">305</a> of file <a class="el" href="a01699_source.html">clocks.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab9786c70c0c1f05fae86b1a399d8dbd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halCommonDelayMicroseconds </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks the current thread of execution for the specified amount of time, in microseconds. </p>
<p>The function is implemented with cycle-counted busy loops and is intended to create the short delays required when interfacing with hardware peripherals.</p>
<p>The accuracy of the timing provided by this function is not specified, but a general rule is that when running off of a crystal oscillator it will be within 10us. If the micro is running off of another type of oscillator (e.g. RC) the timing accuracy will potentially be much worse.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">us</td><td>The specified time, in microseconds. Values should be between 1 and 65535 microseconds. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01711_source.html#l00250">250</a> of file <a class="el" href="a01711_source.html">micro-common-internal.c</a>.</p>

<p>Referenced by <a class="el" href="a01711_source.html#l00284">halCommonDelayMilliseconds()</a>, <a class="el" href="a01699_source.html#l00168">halInternalCalibrateFastRc()</a>, and <a class="el" href="a01699_source.html#l00060">halInternalCalibrateSlowRc()</a>.</p>

</div>
</div>
<a class="anchor" id="gacd0565c99bb9ee46edc1f85d3eabaac1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halCommonDelayMilliseconds </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks the current thread of execution for the specified amount of time, in milliseconds. </p>
<p>The function is implemented with cycle-counted busy loops and is intended to create the short delays required when interfacing with hardware peripherals. This function works by simply adding another layer on top of <a class="el" href="a02278.html#gab9786c70c0c1f05fae86b1a399d8dbd6" title="Blocks the current thread of execution for the specified amount of time, in microseconds. ">halCommonDelayMicroseconds()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>The specified time, in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01711_source.html#l00284">284</a> of file <a class="el" href="a01711_source.html">micro-common-internal.c</a>.</p>

<p>References <a class="el" href="a01711_source.html#l00250">halCommonDelayMicroseconds()</a>.</p>

</div>
</div>
<a class="anchor" id="gadb94c6571babd7d76305a00a3f09a1f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t halCommonGetRandom </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a standard LFSR to generate pseudorandom numbers. </p>
<p>Called by the MAC in the stack to choose random backoff slots.</p>
<p>Complicated implementations may improve the MAC's ability to avoid collisions in large networks, but it is <b>critical</b> to implement this function to return quickly. </p>

<p>Definition at line <a class="el" href="a01713_source.html#l00096">96</a> of file <a class="el" href="a01713_source.html">micro.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaabd83fa0cf1d06380682adbba4f859ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halCommonSeedRandom </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seeds the <a class="el" href="a02278.html#gadb94c6571babd7d76305a00a3f09a1f3" title="Runs a standard LFSR to generate pseudorandom numbers. ">halCommonGetRandom()</a> pseudorandom number generator. </p>
<p>It should be called by the application during initialization with a seed from the radio randon number generator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seed</td><td>A seed for the pseudorandom number generator. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01713_source.html#l00076">76</a> of file <a class="el" href="a01713_source.html">micro.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf50489736443d2e60df9e19ba2b403ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t halGetWakeInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the events that caused the last wake from sleep. </p>
<p>The meaning of each bit is as follows:</p>
<ul>
<li>[31] = WakeInfoValid</li>
<li>[30] = SleepSkipped</li>
<li>[29] = CSYSPWRUPREQ</li>
<li>[28] = CDBGPWRUPREQ</li>
<li>[27] = PWRUP_WAKECORE</li>
<li>[26] = PWRUP_SLEEPTMRWRAP</li>
<li>[25] = PWRUP_SLEEPTMRCOMPB</li>
<li>[24] = PWRUP_SLEEPTMRCOMPA</li>
<li>[23:0] = corresponding GPIO activity</li>
</ul>
<p>WakeInfoValid means that <a class="el" href="a02278.html#gad5ccc8a76451403d069cd63691b98c24" title="Puts the microcontroller to sleep in a specified mode, allows the GPIO wake sources to be determined ...">halSleepWithOptions</a> (<a class="el" href="a02278.html#ga07522d6e2cb2d9da06d648289519c4ea" title="Puts the microcontroller to sleep in a specified mode. ">halInternalSleep</a>) has been called at least once. Since the power on state clears the wake event info, this bit says the sleep code has been called since power on.</p>
<p>SleepSkipped means that the chip never left the running state. Sleep can be skipped if any wake event occurs between going <a class="el" href="a02283.html#gadb86d22878544b15c38b727363ecb8b7" title="A block of code may be made atomic by wrapping it with this macro. ">ATOMIC</a> and transferring control from the CPU to the power management state machine. Sleep can also be skipped if the debugger is connected (JTAG/SerialWire CSYSPWRUPREQ signal is set). The net affect of skipping sleep is the Low Voltage domain never goes through a power/reset cycle.</p>
<dl class="section return"><dt>Returns</dt><dd>The events that caused the last wake from sleep. </dd></dl>

<p>Definition at line <a class="el" href="a01569_source.html#l00122">122</a> of file <a class="el" href="a01569_source.html">sleep.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga22dcb4f34e04bf24ef05274c017e06d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halGpioConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure an IO pin's operating mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>The io pin to use, can be specified with the convenience macros <a class="el" href="a02278.html#ga27b541c1f900a25d980c902ee5a30721" title="Some registers and variables require indentifying GPIO by a single number instead of the port and pin...">PORTA_PIN()</a>, <a class="el" href="a02278.html#ga3d53d811ca29690c1c5c8b8adbc534ce" title="Some registers and variables require indentifying GPIO by a single number instead of the port and pin...">PORTB_PIN()</a>, <a class="el" href="a02278.html#ga9c6bfc2e884b3b9f46732f3990d4d6af" title="Some registers and variables require indentifying GPIO by a single number instead of the port and pin...">PORTC_PIN()</a> </td></tr>
    <tr><td class="paramname">config</td><td>The configuration mode to use. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01712_source.html#l00048">48</a> of file <a class="el" href="a01712_source.html">micro-common.c</a>.</p>

<p>Referenced by <a class="el" href="a01696_source.html#l00284">halBoardPowerDown()</a>, <a class="el" href="a01696_source.html#l00350">halBoardPowerUp()</a>, <a class="el" href="a01581_source.html#l00013">halInitButton()</a>, <a class="el" href="a01703_source.html#l00013">halInitLed()</a>, <a class="el" href="a01352_source.html#l00056">leds_arch_init()</a>, <a class="el" href="a01720_source.html#l00014">temperatureSensor_Init()</a>, and <a class="el" href="a01046_source.html#l00039">uartInit()</a>.</p>

</div>
</div>
<a class="anchor" id="gabbb5042ee272899e07c6fef429230369"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halGpioSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02283.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Clear single GPIO bit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io</td><td>The io pin to use, can be specified with the convenience macros <a class="el" href="a02278.html#ga27b541c1f900a25d980c902ee5a30721" title="Some registers and variables require indentifying GPIO by a single number instead of the port and pin...">PORTA_PIN()</a>, <a class="el" href="a02278.html#ga3d53d811ca29690c1c5c8b8adbc534ce" title="Some registers and variables require indentifying GPIO by a single number instead of the port and pin...">PORTB_PIN()</a>, <a class="el" href="a02278.html#ga9c6bfc2e884b3b9f46732f3990d4d6af" title="Some registers and variables require indentifying GPIO by a single number instead of the port and pin...">PORTC_PIN()</a> </td></tr>
    <tr><td class="paramname">value</td><td>A flag indicating whether to set or clear the io. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01712_source.html#l00063">63</a> of file <a class="el" href="a01712_source.html">micro-common.c</a>.</p>

<p>References <a class="el" href="a01725_source.html#l00200">BIT</a>.</p>

<p>Referenced by <a class="el" href="a01696_source.html#l00284">halBoardPowerDown()</a>, <a class="el" href="a01696_source.html#l00350">halBoardPowerUp()</a>, <a class="el" href="a01703_source.html#l00028">halClearLed()</a>, <a class="el" href="a01581_source.html#l00013">halInitButton()</a>, and <a class="el" href="a01703_source.html#l00023">halSetLed()</a>.</p>

</div>
</div>
<a class="anchor" id="ga21b247f7a0bd7a5805907850e570f042"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalDisableWatchDog </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>magicKey</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the watchdog timer. </p>
<dl class="section note"><dt>Note</dt><dd>To prevent the watchdog from being disabled accidentally, a magic key must be provided.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">magicKey</td><td>A value (<a class="el" href="a02278.html#gabb42f7171eba6959a54c6e6d9aeca64e" title="The value that must be passed as the single parameter to halInternalDisableWatchDog() in order to suc...">MICRO_DISABLE_WATCH_DOG_KEY</a>) that enables the function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01712_source.html#l00031">31</a> of file <a class="el" href="a01712_source.html">micro-common.c</a>.</p>

<p>References <a class="el" href="a01729_source.html#l00052">MICRO_DISABLE_WATCH_DOG_KEY</a>.</p>

<p>Referenced by <a class="el" href="a01569_source.html#l00127">halInternalSleep()</a>, and <a class="el" href="a01083_source.html#l00076">watchdog_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8a39a028776dc2065aa3f02c2a1fd1d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalResetWatchDog </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the watchdog timer. </p>
<p>This function is pointed to by the macro halResetWatchdog(). </p>
<dl class="section warning"><dt>Warning</dt><dd>Be very careful when using this as you can easily get into an infinite loop. </dd></dl>

<p>Definition at line <a class="el" href="a01712_source.html#l00025">25</a> of file <a class="el" href="a01712_source.html">micro-common.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaebd4d106a0a42931460824b959ac32ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalSearchForBiasTrim </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for optimal 24MHz crystal bias trim, assuming no valid prior value. </p>
<p>This function is typically called during initialization of the microcontroller. </p>

<p>Definition at line <a class="el" href="a01699_source.html#l00338">338</a> of file <a class="el" href="a01699_source.html">clocks.c</a>.</p>

<p>Referenced by <a class="el" href="a01699_source.html#l00397">halInternalSwitchToXtal()</a>.</p>

</div>
</div>
<a class="anchor" id="ga27b7b259d7a8129736034ac6bfb00142"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalSetRegTrim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02283.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a>&#160;</td>
          <td class="paramname"><em>boostMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the trim values for the 1.8V and 1.2V regulators based upon manufacturing configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">boostMode</td><td>Alter the regulator trim based upon the state of boost mode. TRUE if boost mode is active, FALSE otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01711_source.html#l00202">202</a> of file <a class="el" href="a01711_source.html">micro-common-internal.c</a>.</p>

<p>Referenced by <a class="el" href="a01713_source.html#l00023">halInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga07522d6e2cb2d9da06d648289519c4ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalSleep </td>
          <td>(</td>
          <td class="paramtype">SleepModes&#160;</td>
          <td class="paramname"><em>sleepMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the microcontroller to sleep in a specified mode. </p>
<p>This internal function performs the actual sleep operation. This function assumes all of the wake source registers are configured properly.</p>
<dl class="section note"><dt>Note</dt><dd>This routine always enables interrupts.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sleepMode</td><td>A microcontroller sleep mode </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a01569_source.html#l00127">127</a> of file <a class="el" href="a01569_source.html">sleep.c</a>.</p>

<p>References <a class="el" href="a01725_source.html#l00200">BIT</a>, <a class="el" href="a01725_source.html#l00205">BIT32</a>, <a class="el" href="a01725_source.html#l00180">FALSE</a>, <a class="el" href="a01712_source.html#l00031">halInternalDisableWatchDog()</a>, <a class="el" href="a01712_source.html#l00017">halInternalEnableWatchDog()</a>, <a class="el" href="a02278.html#gafd32b37fdc20677e9f65bfca3281b7ba">halInternalIdleSleep()</a>, <a class="el" href="a01712_source.html#l00039">halInternalWatchDogEnabled()</a>, <a class="el" href="a01700_source.html#l00438">INTERRUPTS_OFF</a>, <a class="el" href="a01700_source.html#l00428">INTERRUPTS_ON</a>, <a class="el" href="a01729_source.html#l00052">MICRO_DISABLE_WATCH_DOG_KEY</a>, <a class="el" href="a01730_source.html#l00042">PORTB_PIN</a>, and <a class="el" href="a01725_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="a01569_source.html#l00848">halSleepWithOptions()</a>.</p>

</div>
</div>
<a class="anchor" id="gae47dcfa6256c2dd58e2a451e6b1411c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalSwitchToXtal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches to running off of the 24MHz crystal, including changing the CPU to be 24MHz (FCLK sourced from SYSCLK). </p>
<p>The switch function will respect the BIASTRIM HI and LO flags and adjust bias trim until appropriate crystal biasing is used. This function is called from within the stack and HAL at appropriate times. </p>

<p>Definition at line <a class="el" href="a01699_source.html#l00397">397</a> of file <a class="el" href="a01699_source.html">clocks.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga40ef36e606f612ca87090e43d2705ac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a02283.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a> halInternalWatchDogEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the watchdog has been enabled or disabled. </p>
<dl class="section return"><dt>Returns</dt><dd>A boolean value indicating if the watchdog is current enabled. </dd></dl>

<p>Definition at line <a class="el" href="a01712_source.html#l00039">39</a> of file <a class="el" href="a01712_source.html">micro-common.c</a>.</p>

<p>References <a class="el" href="a01725_source.html#l00180">FALSE</a>, and <a class="el" href="a01725_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="a01569_source.html#l00127">halInternalSleep()</a>.</p>

</div>
</div>
<a class="anchor" id="ga747ef10d5ebd95bf6f91685ccd499150"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StStatus halSleepForQsWithOptions </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gpioWakeBitMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses the system timer to enter ::SLEEPMODE_WAKETIMER for approximately the specified amount of time (provided in quarter seconds), the GPIO wake sources can be provided at runtime. </p>
<p>This function returns ::ST_SUCCESS and the duration parameter is decremented to 0 after sleeping for the specified amount of time. If an interrupt occurs that brings the chip out of sleep, the function returns ::ST_SLEEP_INTERRUPTED and the duration parameter reports the amount of time remaining out of the original request.</p>
<dl class="section note"><dt>Note</dt><dd>This routine always enables interrupts.</dd>
<dd>
The maximum sleep time of the hardware is limited on STM32W108 platforms to 48.5 days. Any sleep duration greater than this limit will wake up briefly (e.g. 16 microseconds) to reenable another sleep cycle.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The amount of time, expressed in quarter seconds, that the micro should be placed into ::SLEEPMODE_WAKETIMER. When the function returns, this parameter provides the amount of time remaining out of the original sleep time request (normally the return value will be 0).</td></tr>
    <tr><td class="paramname">gpioWakeBitMask</td><td>A bit mask of the GPIO that are allowed to wake the chip from deep sleep. A high bit in the mask will enable waking the chip if the corresponding GPIO changes state. bit0 is PA0, bit1 is PA1, bit8 is PB0, bit16 is PCO, bit23 is PC7, bits[31:24] are ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An StStatus value indicating the success or failure of the command. </dd></dl>

<p>Definition at line <a class="el" href="a01719_source.html#l00168">168</a> of file <a class="el" href="a01719_source.html">system-timer.c</a>.</p>

<p>References <a class="el" href="a01725_source.html#l00175">TRUE</a>.</p>

</div>
</div>
<a class="anchor" id="gad5ccc8a76451403d069cd63691b98c24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSleepWithOptions </td>
          <td>(</td>
          <td class="paramtype">SleepModes&#160;</td>
          <td class="paramname"><em>sleepMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gpioWakeBitMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the microcontroller to sleep in a specified mode, allows the GPIO wake sources to be determined at runtime. </p>
<p>This function requires the GPIO wake sources to be defined at compile time in the board file.</p>
<dl class="section note"><dt>Note</dt><dd>This routine always enables interrupts.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sleepMode</td><td>A microcontroller sleep mode.</td></tr>
    <tr><td class="paramname">gpioWakeBitMask</td><td>A bit mask of the GPIO that are allowed to wake the chip from deep sleep. A high bit in the mask will enable waking the chip if the corresponding GPIO changes state. bit0 is PA0, bit1 is PA1, bit8 is PB0, bit16 is PCO, bit23 is PC7, bits[31:24] are ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>::SleepModes </dd></dl>

<p>Definition at line <a class="el" href="a01569_source.html#l00848">848</a> of file <a class="el" href="a01569_source.html">sleep.c</a>.</p>

<p>References <a class="el" href="a01569_source.html#l00127">halInternalSleep()</a>.</p>

<p>Referenced by <a class="el" href="a01800_source.html#l00142">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gacccecc48a42aa964410d5ca13288b73f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t stMeasureVddFast </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a fast ADC measurement of VDD_PADS in millivolts. </p>
<p>Due to the conversions performed, this function takes slightly under 150us with a variation across successive conversions approximately +/-20mv of the average conversion.</p>
<dl class="section return"><dt>Returns</dt><dd>A fast measurement of VDD_PADS in millivolts. </dd></dl>

<p>Definition at line <a class="el" href="a01711_source.html#l00140">140</a> of file <a class="el" href="a01711_source.html">micro-common-internal.c</a>.</p>

<p>Referenced by <a class="el" href="a01711_source.html#l00192">halCommonCalibratePads()</a>.</p>

</div>
</div>
<a class="anchor" id="ga93d0995cce8de7a4ad3f9cf6aeff0615"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t stMeasureVddSlow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a slow ADC measurement of VDD_PADS in millivolts. </p>
<p>Due to the conversions performed, this function takes slightly under 3.2ms with a variation across successive conversions approximately +/-2mv of the average conversion.</p>
<dl class="section return"><dt>Returns</dt><dd>A slow measurement of VDD_PADS in millivolts. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 30 2014 09:59:05 for Contiki 3.x by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
