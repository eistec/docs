<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Bloom filter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riot-logo.svg"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">The friendly Operating System for the Internet of Things</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sys__bloom.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bloom filter<div class="ingroups"><a class="el" href="group__sys.html">System</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Bloom filter library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:bloom_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bloom_8h.html">bloom.h</a></td></tr>
<tr class="memdesc:bloom_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bloom filter API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbloom__t.html">bloom_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object ">bloom_t</a> bloom filter object  <a href="structbloom__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa153bcce3da973f04da073220bdd5055"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa153bcce3da973f04da073220bdd5055"></a>
typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gaa153bcce3da973f04da073220bdd5055">hashfp_t</a> )(const uint8_t *, int len)</td></tr>
<tr class="memdesc:gaa153bcce3da973f04da073220bdd5055"><td class="mdescLeft">&#160;</td><td class="mdescRight">hash function to use in thee filter <br /></td></tr>
<tr class="separator:gaa153bcce3da973f04da073220bdd5055"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga269a0bbce5f2734ef9ac68a475fc5e00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#ga269a0bbce5f2734ef9ac68a475fc5e00">bloom_new</a> (size_t size, size_t num_hashes,...)</td></tr>
<tr class="memdesc:ga269a0bbce5f2734ef9ac68a475fc5e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and return a pointer to a new Bloom filter.  <a href="#ga269a0bbce5f2734ef9ac68a475fc5e00">More...</a><br /></td></tr>
<tr class="separator:ga269a0bbce5f2734ef9ac68a475fc5e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab23483bd4edf858615ffb42d1994d493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gab23483bd4edf858615ffb42d1994d493">bloom_del</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom)</td></tr>
<tr class="memdesc:gab23483bd4edf858615ffb42d1994d493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a Bloom filter.  <a href="#gab23483bd4edf858615ffb42d1994d493">More...</a><br /></td></tr>
<tr class="separator:gab23483bd4edf858615ffb42d1994d493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gad1287feebd8f35ab4aabf7a458ac4a2f">bloom_add</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a string to a Bloom filter.  <a href="#gad1287feebd8f35ab4aabf7a458ac4a2f">More...</a><br /></td></tr>
<tr class="separator:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gaccab5d24940adcc3fe16c6c5c8b8c313">bloom_check</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a string is in the Bloom filter.  <a href="#gaccab5d24940adcc3fe16c6c5c8b8c313">More...</a><br /></td></tr>
<tr class="separator:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bloom filter library. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad1287feebd8f35ab4aabf7a458ac4a2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a string to a Bloom filter. </p>
<p>CAVEAT Once a string has been added to the filter, it cannot be "removed"!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to add </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a class="anchor" id="gaccab5d24940adcc3fe16c6c5c8b8c313"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bloom_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a string is in the Bloom filter. </p>
<p>The string 's' is hashed once for each of the 'k' hash functions, as though we were planning to add it to the filter. Instead of adding it however, we examine the bit that we <em>would</em> have set, and consider its value.</p>
<p>If the bit is 1 (set), the string we are hashing may be in the filter, since it would have set this bit when it was originally hashed. However, it may also be that another string just happened to produce a hash value that would also set this bit. That would be a false positive. This is why we have k &gt; 1, so we can minimize the likelihood of false positives occuring.</p>
<p>If every bit corresponding to every one of the k hashes of our query string is set, we can say with some probability of being correct that the string we are holding is indeed "in" the filter. However, we can never be sure.</p>
<p>If, however, as we hash our string and peek at the resulting bit in the filter, we find the bit is 0 (not set)... well now, that's different. In this case, we can say with absolute certainty that the string we are holding is <em>not</em> in the filter, because if it were, this bit would have to be set.</p>
<p>In this way, the Bloom filter can answer NO with absolute surety, but can only speak a qualified YES.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to check </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if string does not exist in the filter </dd>
<dd>
true if string is may be in the filter </dd></dl>

</div>
</div>
<a class="anchor" id="gab23483bd4edf858615ffb42d1994d493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a Bloom filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>The condemned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a class="anchor" id="ga269a0bbce5f2734ef9ac68a475fc5e00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbloom__t.html">bloom_t</a>* bloom_new </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_hashes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and return a pointer to a new Bloom filter. </p>
<p>For best results, make 'size' a power of 2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size of the bit array in the filter </td></tr>
    <tr><td class="paramname">num_hashes</td><td>the number of hash functions </td></tr>
    <tr><td class="paramname">...</td><td>varg function pointers, use hashfp_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An allocated bloom filter </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jan 12 2015 15:45:18 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
