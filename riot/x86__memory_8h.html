<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>x86_memory.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riot-logo.svg"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">The friendly Operating System for the Internet of Things</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('x86__memory_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">x86_memory.h File Reference<div class="ingroups"><a class="el" href="group__cpu.html">CPU</a> &raquo; <a class="el" href="group__x86.html">i586</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The virtual memory management of x86 boards.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="x86__memory_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgdtr__t.html">gdtr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Datum for the Global Descriptor Table Register.  <a href="structgdtr__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgdt__entry.html">gdt_entry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">One entry in the Global Descriptor Table.  <a href="structgdt__entry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460ae2b330390f017370384de1383dd5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a460ae2b330390f017370384de1383dd5">X86_NUM_STATIC_PT</a>&#160;&#160;&#160;(4)</td></tr>
<tr class="memdesc:a460ae2b330390f017370384de1383dd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum static size of the kernel.  <a href="#a460ae2b330390f017370384de1383dd5">More...</a><br /></td></tr>
<tr class="separator:a460ae2b330390f017370384de1383dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c4ce0cca300b6e0b3b1741ae159ae8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73c4ce0cca300b6e0b3b1741ae159ae8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>X86_NUM_STATIC_PD</b>&#160;&#160;&#160;((<a class="el" href="x86__memory_8h.html#a460ae2b330390f017370384de1383dd5">X86_NUM_STATIC_PT</a>+511) / 512) /* 1GB=512 PTs each */</td></tr>
<tr class="separator:a73c4ce0cca300b6e0b3b1741ae159ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b762ae744052fa0b2a8c9d4baab5f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33b762ae744052fa0b2a8c9d4baab5f9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a33b762ae744052fa0b2a8c9d4baab5f9">GDT_AB_AC</a>&#160;&#160;&#160;(1u &lt;&lt; 0)</td></tr>
<tr class="memdesc:a33b762ae744052fa0b2a8c9d4baab5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access byte (set to one by CPU when accessed) <br /></td></tr>
<tr class="separator:a33b762ae744052fa0b2a8c9d4baab5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e6277ba4768424a5ef21333f9df16b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a00e6277ba4768424a5ef21333f9df16b">GDT_AB_RW</a>&#160;&#160;&#160;(1u &lt;&lt; 1)</td></tr>
<tr class="memdesc:a00e6277ba4768424a5ef21333f9df16b"><td class="mdescLeft">&#160;</td><td class="mdescRight">If CS: read access allowed.  <a href="#a00e6277ba4768424a5ef21333f9df16b">More...</a><br /></td></tr>
<tr class="separator:a00e6277ba4768424a5ef21333f9df16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a6af8acc1d49ea02f2e4fc46c4ab16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42a6af8acc1d49ea02f2e4fc46c4ab16"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a42a6af8acc1d49ea02f2e4fc46c4ab16">GDT_AB_DC</a>&#160;&#160;&#160;(1u &lt;&lt; 2)</td></tr>
<tr class="memdesc:a42a6af8acc1d49ea02f2e4fc46c4ab16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direction bit. <br /></td></tr>
<tr class="separator:a42a6af8acc1d49ea02f2e4fc46c4ab16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c16b214849220144573866887170f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3c16b214849220144573866887170f4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#ad3c16b214849220144573866887170f4">GDT_AB_EX</a>&#160;&#160;&#160;(1u &lt;&lt; 3)</td></tr>
<tr class="memdesc:ad3c16b214849220144573866887170f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = segment is CS <br /></td></tr>
<tr class="separator:ad3c16b214849220144573866887170f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb71d7c930ed6347612e5a07e371f267"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb71d7c930ed6347612e5a07e371f267"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#adb71d7c930ed6347612e5a07e371f267">GDT_AB_S</a>&#160;&#160;&#160;(1u &lt;&lt; 4)</td></tr>
<tr class="memdesc:adb71d7c930ed6347612e5a07e371f267"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = segment is CS or DS; 0 = segment is gate or TSS <br /></td></tr>
<tr class="separator:adb71d7c930ed6347612e5a07e371f267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2812f2bb92d66fbf2bb379c3054c3b81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2812f2bb92d66fbf2bb379c3054c3b81"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a2812f2bb92d66fbf2bb379c3054c3b81">GDT_AB_RING_0</a>&#160;&#160;&#160;(0u &lt;&lt; 5)</td></tr>
<tr class="memdesc:a2812f2bb92d66fbf2bb379c3054c3b81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Privilege level: ring 0. <br /></td></tr>
<tr class="separator:a2812f2bb92d66fbf2bb379c3054c3b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f1a29436ae3a9a87995b9586190935"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18f1a29436ae3a9a87995b9586190935"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a18f1a29436ae3a9a87995b9586190935">GDT_AB_RING_1</a>&#160;&#160;&#160;(1u &lt;&lt; 5)</td></tr>
<tr class="memdesc:a18f1a29436ae3a9a87995b9586190935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Privilege level: ring 1. <br /></td></tr>
<tr class="separator:a18f1a29436ae3a9a87995b9586190935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402688daea5c0cc8700a75294f3bf2c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a402688daea5c0cc8700a75294f3bf2c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a402688daea5c0cc8700a75294f3bf2c1">GDT_AB_RING_2</a>&#160;&#160;&#160;(2u &lt;&lt; 5)</td></tr>
<tr class="memdesc:a402688daea5c0cc8700a75294f3bf2c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Privilege level: ring 2. <br /></td></tr>
<tr class="separator:a402688daea5c0cc8700a75294f3bf2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08bea5c2ead3638282d04019ac674e66"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08bea5c2ead3638282d04019ac674e66"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a08bea5c2ead3638282d04019ac674e66">GDT_AB_RING_3</a>&#160;&#160;&#160;(3u &lt;&lt; 5)</td></tr>
<tr class="memdesc:a08bea5c2ead3638282d04019ac674e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Privilege level: ring 3. <br /></td></tr>
<tr class="separator:a08bea5c2ead3638282d04019ac674e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969bb53defcef0a8c5261adea637a0c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a969bb53defcef0a8c5261adea637a0c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a969bb53defcef0a8c5261adea637a0c8">GDT_AB_PR</a>&#160;&#160;&#160;(1u &lt;&lt; 7)</td></tr>
<tr class="memdesc:a969bb53defcef0a8c5261adea637a0c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segment present. <br /></td></tr>
<tr class="separator:a969bb53defcef0a8c5261adea637a0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235381a282e020ab7d82017cb9abcd00"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a235381a282e020ab7d82017cb9abcd00"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a235381a282e020ab7d82017cb9abcd00">GDT_FLAG_USR4</a>&#160;&#160;&#160;(1u &lt;&lt; 4)</td></tr>
<tr class="memdesc:a235381a282e020ab7d82017cb9abcd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">bit for free use <br /></td></tr>
<tr class="separator:a235381a282e020ab7d82017cb9abcd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9633728c2a632d10ce6eee8a2273cd67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9633728c2a632d10ce6eee8a2273cd67"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a9633728c2a632d10ce6eee8a2273cd67">GDT_FLAG_L</a>&#160;&#160;&#160;(1u &lt;&lt; 5)</td></tr>
<tr class="memdesc:a9633728c2a632d10ce6eee8a2273cd67"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = long mode <br /></td></tr>
<tr class="separator:a9633728c2a632d10ce6eee8a2273cd67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a705efc2dcef00d649b886a94b503e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a705efc2dcef00d649b886a94b503e9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a7a705efc2dcef00d649b886a94b503e9">GDT_FLAG_SZ</a>&#160;&#160;&#160;(1u &lt;&lt; 6)</td></tr>
<tr class="memdesc:a7a705efc2dcef00d649b886a94b503e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">0 = 16/64 bit selector; 1 = 32 bit selector <br /></td></tr>
<tr class="separator:a7a705efc2dcef00d649b886a94b503e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c85eac62608ecd983e06742343d3a6b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c85eac62608ecd983e06742343d3a6b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a1c85eac62608ecd983e06742343d3a6b">GDT_FLAG_GR</a>&#160;&#160;&#160;(1u &lt;&lt; 7)</td></tr>
<tr class="memdesc:a1c85eac62608ecd983e06742343d3a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">0 = limit given in 1 b blocks; 1 = limit given in 4k blocks <br /></td></tr>
<tr class="separator:a1c85eac62608ecd983e06742343d3a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c14033fa8be740205b706de0cfbd3d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70c14033fa8be740205b706de0cfbd3d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a70c14033fa8be740205b706de0cfbd3d">PT_P</a>&#160;&#160;&#160;(1ull &lt;&lt; 0)</td></tr>
<tr class="memdesc:a70c14033fa8be740205b706de0cfbd3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = page present <br /></td></tr>
<tr class="separator:a70c14033fa8be740205b706de0cfbd3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f9683e39e590131cefa58c2d4e7c14"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99f9683e39e590131cefa58c2d4e7c14"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a99f9683e39e590131cefa58c2d4e7c14">PT_RW</a>&#160;&#160;&#160;(1ull &lt;&lt; 1)</td></tr>
<tr class="memdesc:a99f9683e39e590131cefa58c2d4e7c14"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = page writable <br /></td></tr>
<tr class="separator:a99f9683e39e590131cefa58c2d4e7c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dea0cc85200ef3412debe0580ffe1e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0dea0cc85200ef3412debe0580ffe1e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a0dea0cc85200ef3412debe0580ffe1e1">PT_US</a>&#160;&#160;&#160;(1ull &lt;&lt; 2)</td></tr>
<tr class="memdesc:a0dea0cc85200ef3412debe0580ffe1e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = don't restrict to ring 0 <br /></td></tr>
<tr class="separator:a0dea0cc85200ef3412debe0580ffe1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb56948e2e430832582fa123ce1f20f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb56948e2e430832582fa123ce1f20f6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#acb56948e2e430832582fa123ce1f20f6">PT_PWT</a>&#160;&#160;&#160;(1ull &lt;&lt; 3)</td></tr>
<tr class="memdesc:acb56948e2e430832582fa123ce1f20f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = use write-through; 0 = use write-back <br /></td></tr>
<tr class="separator:acb56948e2e430832582fa123ce1f20f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af450475ead535cbdcda2366ea1465108"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af450475ead535cbdcda2366ea1465108"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#af450475ead535cbdcda2366ea1465108">PT_PCD</a>&#160;&#160;&#160;(1ull &lt;&lt; 4)</td></tr>
<tr class="memdesc:af450475ead535cbdcda2366ea1465108"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = disable caching <br /></td></tr>
<tr class="separator:af450475ead535cbdcda2366ea1465108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a4af44f89f50ada62653d9a3574574"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1a4af44f89f50ada62653d9a3574574"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#ac1a4af44f89f50ada62653d9a3574574">PT_A</a>&#160;&#160;&#160;(1ull &lt;&lt; 5)</td></tr>
<tr class="memdesc:ac1a4af44f89f50ada62653d9a3574574"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = page was accessed (set by the CPU, used for swapping) <br /></td></tr>
<tr class="separator:ac1a4af44f89f50ada62653d9a3574574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26753be2119f37e22b50d8314814475f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26753be2119f37e22b50d8314814475f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a26753be2119f37e22b50d8314814475f">PT_D</a>&#160;&#160;&#160;(1ull &lt;&lt; 6)</td></tr>
<tr class="memdesc:a26753be2119f37e22b50d8314814475f"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = dirty (set by the CPU when written to) <br /></td></tr>
<tr class="separator:a26753be2119f37e22b50d8314814475f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f21aeecb82e152d18ac21c483ffb1c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f21aeecb82e152d18ac21c483ffb1c5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a0f21aeecb82e152d18ac21c483ffb1c5">PT_S</a>&#160;&#160;&#160;(1ull &lt;&lt; 7)</td></tr>
<tr class="memdesc:a0f21aeecb82e152d18ac21c483ffb1c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = 4MB pages <br /></td></tr>
<tr class="separator:a0f21aeecb82e152d18ac21c483ffb1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd445d4f470b9f00a0751224bda826ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd445d4f470b9f00a0751224bda826ed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#abd445d4f470b9f00a0751224bda826ed">PT_PAT</a>&#160;&#160;&#160;(1ull &lt;&lt; 7)</td></tr>
<tr class="memdesc:abd445d4f470b9f00a0751224bda826ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">? <br /></td></tr>
<tr class="separator:abd445d4f470b9f00a0751224bda826ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af856f9dac26cea178449959d814a8b7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af856f9dac26cea178449959d814a8b7a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#af856f9dac26cea178449959d814a8b7a">PT_G</a>&#160;&#160;&#160;(1ull &lt;&lt; 8)</td></tr>
<tr class="memdesc:af856f9dac26cea178449959d814a8b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = global (ignored for page directory entries) <br /></td></tr>
<tr class="separator:af856f9dac26cea178449959d814a8b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83016d9f13c9760f044863912f95b560"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83016d9f13c9760f044863912f95b560"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a83016d9f13c9760f044863912f95b560">PT_USR9</a>&#160;&#160;&#160;(1ull &lt;&lt; 9)</td></tr>
<tr class="memdesc:a83016d9f13c9760f044863912f95b560"><td class="mdescLeft">&#160;</td><td class="mdescRight">bit for free use <br /></td></tr>
<tr class="separator:a83016d9f13c9760f044863912f95b560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775feb80df93ac317f094cb60fbe314d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a775feb80df93ac317f094cb60fbe314d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a775feb80df93ac317f094cb60fbe314d">PT_USR10</a>&#160;&#160;&#160;(1ull &lt;&lt; 10)</td></tr>
<tr class="memdesc:a775feb80df93ac317f094cb60fbe314d"><td class="mdescLeft">&#160;</td><td class="mdescRight">bit for free use <br /></td></tr>
<tr class="separator:a775feb80df93ac317f094cb60fbe314d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7ecff4a1b8222eadfb5abb20bf742d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d7ecff4a1b8222eadfb5abb20bf742d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a1d7ecff4a1b8222eadfb5abb20bf742d">PT_USR11</a>&#160;&#160;&#160;(1ull &lt;&lt; 11)</td></tr>
<tr class="memdesc:a1d7ecff4a1b8222eadfb5abb20bf742d"><td class="mdescLeft">&#160;</td><td class="mdescRight">bit for free use <br /></td></tr>
<tr class="separator:a1d7ecff4a1b8222eadfb5abb20bf742d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af484bcbd3fc9be88c4a34a71b86b05e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af484bcbd3fc9be88c4a34a71b86b05e9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#af484bcbd3fc9be88c4a34a71b86b05e9">PT_XD</a>&#160;&#160;&#160;(1ull &lt;&lt; 63)</td></tr>
<tr class="memdesc:af484bcbd3fc9be88c4a34a71b86b05e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = no execute <br /></td></tr>
<tr class="separator:af484bcbd3fc9be88c4a34a71b86b05e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9023d2bcaf39bc18cd46331adaf30423"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9023d2bcaf39bc18cd46331adaf30423"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PT_ADDR_MASK</b>&#160;&#160;&#160;(((1ull &lt;&lt; 48) - 1) &amp; ~((1ull &lt;&lt; 12) - 1))</td></tr>
<tr class="separator:a9023d2bcaf39bc18cd46331adaf30423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ecf0080fabafc9f0eb52e5f4ea2d6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26ecf0080fabafc9f0eb52e5f4ea2d6a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a26ecf0080fabafc9f0eb52e5f4ea2d6a">PF_EC_P</a>&#160;&#160;&#160;(1u &lt;&lt; 0)</td></tr>
<tr class="memdesc:a26ecf0080fabafc9f0eb52e5f4ea2d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = page protection violation; 0 = page not present <br /></td></tr>
<tr class="separator:a26ecf0080fabafc9f0eb52e5f4ea2d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ecb3c08c42efe48ef842ee2b206c30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91ecb3c08c42efe48ef842ee2b206c30"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a91ecb3c08c42efe48ef842ee2b206c30">PF_EC_W</a>&#160;&#160;&#160;(1u &lt;&lt; 1)</td></tr>
<tr class="memdesc:a91ecb3c08c42efe48ef842ee2b206c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = accessed writingly; 0 = readingly <br /></td></tr>
<tr class="separator:a91ecb3c08c42efe48ef842ee2b206c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a1c29d362a3e4e925e5879273c8a7c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a1c29d362a3e4e925e5879273c8a7c0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a8a1c29d362a3e4e925e5879273c8a7c0">PF_EC_U</a>&#160;&#160;&#160;(1u &lt;&lt; 2)</td></tr>
<tr class="memdesc:a8a1c29d362a3e4e925e5879273c8a7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = ring 3 <br /></td></tr>
<tr class="separator:a8a1c29d362a3e4e925e5879273c8a7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b69f9d995b9dd3a2f40faa51187bea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6b69f9d995b9dd3a2f40faa51187bea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#ae6b69f9d995b9dd3a2f40faa51187bea">PF_EC_R</a>&#160;&#160;&#160;(1u &lt;&lt; 3)</td></tr>
<tr class="memdesc:ae6b69f9d995b9dd3a2f40faa51187bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">? <br /></td></tr>
<tr class="separator:ae6b69f9d995b9dd3a2f40faa51187bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb8cde92f8181d3bb230bbbc9442ecb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affb8cde92f8181d3bb230bbbc9442ecb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#affb8cde92f8181d3bb230bbbc9442ecb">PF_EC_I</a>&#160;&#160;&#160;(1u &lt;&lt; 4)</td></tr>
<tr class="memdesc:affb8cde92f8181d3bb230bbbc9442ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 = exception in CS; 0 = exception in DS <br /></td></tr>
<tr class="separator:affb8cde92f8181d3bb230bbbc9442ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba58d6bfb152c575a7348ea5034a72b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a8ba58d6bfb152c575a7348ea5034a72b">NO_PTE</a>&#160;&#160;&#160;(~<a class="el" href="x86__memory_8h.html#a70c14033fa8be740205b706de0cfbd3d">PT_P</a>)</td></tr>
<tr class="memdesc:a8ba58d6bfb152c575a7348ea5034a72b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error value for <a class="el" href="x86__memory_8h.html#acc2c3927c94bf55ab5a939bc33ebc903" title="Read page table entry for addr. ">x86_get_pte()</a>.  <a href="#a8ba58d6bfb152c575a7348ea5034a72b">More...</a><br /></td></tr>
<tr class="separator:a8ba58d6bfb152c575a7348ea5034a72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d16cd82b944e0fa6ef7d9e4e025cdf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61d16cd82b944e0fa6ef7d9e4e025cdf"></a>
typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>pae_page_directory_pointer_table_t</b> [512]</td></tr>
<tr class="separator:a61d16cd82b944e0fa6ef7d9e4e025cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52cf9bf7939842f83427ce68b6db9d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae52cf9bf7939842f83427ce68b6db9d4"></a>
typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>pae_page_directory_t</b> [512]</td></tr>
<tr class="separator:ae52cf9bf7939842f83427ce68b6db9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf5567c69d267d63b7535dd0fcb285f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcf5567c69d267d63b7535dd0fcb285f"></a>
typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>pae_page_table_t</b> [512]</td></tr>
<tr class="separator:afcf5567c69d267d63b7535dd0fcb285f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add16edfd50938dbace05d73ff64710fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#add16edfd50938dbace05d73ff64710fd">x86_init_memory</a> (void)</td></tr>
<tr class="memdesc:add16edfd50938dbace05d73ff64710fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize virtual memory management.  <a href="#add16edfd50938dbace05d73ff64710fd">More...</a><br /></td></tr>
<tr class="separator:add16edfd50938dbace05d73ff64710fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2c3927c94bf55ab5a939bc33ebc903"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#acc2c3927c94bf55ab5a939bc33ebc903">x86_get_pte</a> (uint32_t addr)</td></tr>
<tr class="memdesc:acc2c3927c94bf55ab5a939bc33ebc903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read page table entry for addr.  <a href="#acc2c3927c94bf55ab5a939bc33ebc903">More...</a><br /></td></tr>
<tr class="separator:acc2c3927c94bf55ab5a939bc33ebc903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71bb64a825884f6a3c8cc56647d3600"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#aa71bb64a825884f6a3c8cc56647d3600">x86_map_physical_pages</a> (uint64_t physical_start, unsigned pages, uint64_t bits)</td></tr>
<tr class="memdesc:aa71bb64a825884f6a3c8cc56647d3600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a range of physical pages at a new virtual address.  <a href="#aa71bb64a825884f6a3c8cc56647d3600">More...</a><br /></td></tr>
<tr class="separator:aa71bb64a825884f6a3c8cc56647d3600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4abaebfa9244af18133364738e55c0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#abb4abaebfa9244af18133364738e55c0">x86_get_virtual_pages</a> (unsigned pages, uint64_t bits)</td></tr>
<tr class="memdesc:abb4abaebfa9244af18133364738e55c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a range of pages.  <a href="#abb4abaebfa9244af18133364738e55c0">More...</a><br /></td></tr>
<tr class="separator:abb4abaebfa9244af18133364738e55c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c791c7af1c4d2457bd1efcc7a19127"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#ae5c791c7af1c4d2457bd1efcc7a19127">x86_release_virtual_pages</a> (uint32_t virtual_start, unsigned pages)</td></tr>
<tr class="memdesc:ae5c791c7af1c4d2457bd1efcc7a19127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate a range of bytes that were allocated with <a class="el" href="x86__memory_8h.html#abb4abaebfa9244af18133364738e55c0" title="Allocate a range of pages. ">x86_get_virtual_pages()</a>  <a href="#ae5c791c7af1c4d2457bd1efcc7a19127">More...</a><br /></td></tr>
<tr class="separator:ae5c791c7af1c4d2457bd1efcc7a19127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55be41159b291bd0a44cb644d2d8f829"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x86__memory_8h.html#a55be41159b291bd0a44cb644d2d8f829">x86_init_gdt</a> (void)</td></tr>
<tr class="memdesc:a55be41159b291bd0a44cb644d2d8f829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intializes the global descriptor table.  <a href="#a55be41159b291bd0a44cb644d2d8f829">More...</a><br /></td></tr>
<tr class="separator:a55be41159b291bd0a44cb644d2d8f829"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The virtual memory management of x86 boards. </p>
<dl class="section author"><dt>Author</dt><dd>Ren√© Kijewski <a href="#" onclick="location.href='mai'+'lto:'+'ren'+'e.'+'kij'+'ew'+'ski'+'@f'+'u-b'+'er'+'lin'+'.d'+'e'; return false;">rene.<span style="display: none;">.nosp@m.</span>kije<span style="display: none;">.nosp@m.</span>wski@<span style="display: none;">.nosp@m.</span>fu-b<span style="display: none;">.nosp@m.</span>erlin<span style="display: none;">.nosp@m.</span>.de</a> </dd></dl>

<p>Definition in file <a class="el" href="x86__memory_8h_source.html">x86_memory.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a00e6277ba4768424a5ef21333f9df16b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GDT_AB_RW&#160;&#160;&#160;(1u &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If CS: read access allowed. </p>
<p>If DS: write access allowed. </p>

<p>Definition at line <a class="el" href="x86__memory_8h_source.html#l00079">79</a> of file <a class="el" href="x86__memory_8h_source.html">x86_memory.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8ba58d6bfb152c575a7348ea5034a72b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_PTE&#160;&#160;&#160;(~<a class="el" href="x86__memory_8h.html#a70c14033fa8be740205b706de0cfbd3d">PT_P</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error value for <a class="el" href="x86__memory_8h.html#acc2c3927c94bf55ab5a939bc33ebc903" title="Read page table entry for addr. ">x86_get_pte()</a>. </p>
<p>All bits are set but PT_P. Most likely you are interested only if the page table is present. Since the PTE bits 48 to 62 are restricted, this value cannot occur in an actual PTE. </p>

<p>Definition at line <a class="el" href="x86__memory_8h_source.html#l00131">131</a> of file <a class="el" href="x86__memory_8h_source.html">x86_memory.h</a>.</p>

</div>
</div>
<a class="anchor" id="a460ae2b330390f017370384de1383dd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X86_NUM_STATIC_PT&#160;&#160;&#160;(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum static size of the kernel. </p>
<p>Each page table can hold 2MB. As the low memory is ignored, 1MB of virtual memory is wasted. Bad things will happen if this value is set too small. The kernel must not exceed the 10MB mark, unless you are sure that your board has no ISA hole. (It is unlikely that you have an ISA hole, though.) </p>

<p>Definition at line <a class="el" href="x86__memory_8h_source.html#l00047">47</a> of file <a class="el" href="x86__memory_8h_source.html">x86_memory.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acc2c3927c94bf55ab5a939bc33ebc903"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t x86_get_pte </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read page table entry for addr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>Does not have to be aligned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PTE iff addr has an entry in the PDPT and PD, otherwise NO_PTE. </dd></dl>

</div>
</div>
<a class="anchor" id="abb4abaebfa9244af18133364738e55c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* x86_get_virtual_pages </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a range of pages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pages</td><td>Number of pages to allocate. </td></tr>
    <tr><td class="paramname">bits</td><td>Flags of the PTE for each page (do not forget PT_P). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Start of the virtual address range, aligned of course. Use <a class="el" href="x86__memory_8h.html#acc2c3927c94bf55ab5a939bc33ebc903" title="Read page table entry for addr. ">x86_get_pte()</a> to determine the start of the physical address range. </dd></dl>

</div>
</div>
<a class="anchor" id="a55be41159b291bd0a44cb644d2d8f829"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void x86_init_gdt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Intializes the global descriptor table. </p>
<p>This should be the very first call in the startup routine. Changing the segmentation confuses the JTAG.</p>
<p>0x0000 is an invalid descriptor. 0x0008 is the code segment, from 0x00000000 to 0xFFFFFFFF, executable, read-only. 0x0010 is the data segment, from 0x00000000 to 0xFFFFFFFF, non-executable, writable. </p>

</div>
</div>
<a class="anchor" id="add16edfd50938dbace05d73ff64710fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void x86_init_memory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize virtual memory management. </p>
<p>This function is called during initialization by <a class="el" href="group__x86.html#ga4da4a4c6c0e0305e3d8ed93527b00e30" title="Initialize subsystems and run kernel. ">x86_startup()</a>. You must not call this function on your own accord. </p>

</div>
</div>
<a class="anchor" id="aa71bb64a825884f6a3c8cc56647d3600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* x86_map_physical_pages </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>physical_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps a range of physical pages at a new virtual address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">physical_start</td><td>Start address of the physical page. Must be aligned. </td></tr>
    <tr><td class="paramname">pages</td><td>Number of physical pages. </td></tr>
    <tr><td class="paramname">bits</td><td>Flags of the PTE for each page (do not forget PT_P). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Start of the virtual address range, aligned of course. </dd>
<dd>
NULL if the memory was exhausted.</dd></dl>
<p>This function is to be used by hardware drivers. </p>

</div>
</div>
<a class="anchor" id="ae5c791c7af1c4d2457bd1efcc7a19127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void x86_release_virtual_pages </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>virtual_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocate a range of bytes that were allocated with <a class="el" href="x86__memory_8h.html#abb4abaebfa9244af18133364738e55c0" title="Allocate a range of pages. ">x86_get_virtual_pages()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virtual_start</td><td>The return value of <a class="el" href="x86__memory_8h.html#abb4abaebfa9244af18133364738e55c0" title="Allocate a range of pages. ">x86_get_virtual_pages()</a>. </td></tr>
    <tr><td class="paramname">pages</td><td>Must match the original call to <a class="el" href="x86__memory_8h.html#abb4abaebfa9244af18133364738e55c0" title="Allocate a range of pages. ">x86_get_virtual_pages()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c433b04169c945a1c7f0848f853d4379.html">cpu</a></li><li class="navelem"><a class="el" href="dir_9e461ebd9532e8d73200c614b68c26fe.html">x86</a></li><li class="navelem"><a class="el" href="dir_e491a0e905f992d3363c11966e61a552.html">include</a></li><li class="navelem"><a class="el" href="x86__memory_8h.html">x86_memory.h</a></li>
    <li class="footer">Generated on Mon Jan 12 2015 15:45:17 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
